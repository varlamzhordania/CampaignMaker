{% extends 'index.html' %}
{% load static %}
{% block content %}
    <main class="d-flex justify-content-between align-items-center gap-0 full-height">
        <div class="d-sm-none d-none d-md-none d-lg-flex content-part flex-1 vh-100 hidden justify-content-end align-items-center w-50">
            <p class="w-50 text-body-tertiary text-center px-4 p-title">
                Start your digital marketing with us. We are here to
                help you...
            </p>
        </div>
        <div class="d-flex flex-1 h-100 justify-content-center align-items-center w-50">
            <form class="rounded w-75 p-5 all-center needs-validation" novalidate method="post" action="."
                  enctype="multipart/form-data">
                {% csrf_token %}
                <div class="w-50 mb-5 mb-auto d-flex justify-content-center align-items-center">
                    <a href="{% url "main:home" %}">
                        <img src="{{ page_setting.logo.url }}" alt="logo" class="w-100 h-auto"/>
                    </a>
                </div>
                <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 w-100 g-2">
                    <div class="col position-relative ">
                        <div class="mb-3">
                            <label for="{{ form.first_name.name }}"
                                   class="form-label">{{ form.first_name.label }}</label>
                            {{ form.first_name }}
                            <div class="invalid-feedback">
                                first name is a required field
                            </div>
                        </div>
                    </div>
                    <div class="col position-relative ">
                        <div class="mb-3">
                            <label for="{{ form.middle_name.name }}"
                                   class="form-label">{{ form.middle_name.label }}</label>
                            {{ form.middle_name }}
                        </div>
                    </div>
                    <div class="col position-relative ">
                        <div class="mb-3">
                            <label for="{{ form.last_name.name }}" class="form-label">{{ form.last_name.label }}</label>
                            {{ form.last_name }}
                            <div class="invalid-feedback">
                                last name is a required field
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row row-cols-1 row-cols-lg-2 w-100 g-2">
                    <div class="col position-relative">
                        <div class="mb-3">
                            <label for="{{ form.email.name }}" class="form-label">{{ form.email.label }}</label>
                            {{ form.email }}
                            <div class="invalid-feedback">
                                Email is required!
                            </div>
                        </div>
                    </div>
                    <div class="col position-relative">
                        <div class="mb-3">
                            <label for="{{ form.username.name }}" class="form-label">{{ form.username.label }}</label>
                            {{ form.username }}
                            <div class="invalid-feedback">
                                Username most be at least 8 character
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row row-cols-1 row-cols-lg-2 w-100 g-2">
                    <div class="col position-relative">
                        <div class="mb-3">
                            <label for="{{ form.password1.name }}" class="form-label">{{ form.password1.label }}</label>
                            <div class="position-relative">
                                {{ form.password1 }}
                                <i class="bi bi-eye-slash-fill password-toggle" id="password-toggle1"></i>
                                <div class="invalid-feedback">
                                    password must be at least 8 characters
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col position-relative">
                        <div class="mb-3">
                            <label for="{{ form.password2.name }}" class="form-label">{{ form.password2.label }}</label>
                            <div class="position-relative">
                                {{ form.password2 }}
                                <i class="bi bi-eye-slash-fill password-toggle" id="password-toggle2"></i>
                                <div class="invalid-feedback">
                                    password2 is a required field
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row row-cols-1 row-cols-lg-2 w-100 g-2">
                    <div class="col position-relative">
                        <div class="mb-3">
                            <label for="{{ form.phone_number.name }}"
                                   class="form-label">{{ form.phone_number.label }}</label>
                            {{ form.phone_number }}
                            <div class="invalid-feedback">
                                Phone number is required in +RRXXXXXXXXXX pattern
                            </div>
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary w-100 text-white fw-bold px-5 py-1 rounded mt-3" type="submit"
                        role="button">
                    Register
                </button>
                <p class="py-2 pb-0 fs-6 text-center">
                    Have an account
                    <a href="{% url "account:login" %}" class="text-uppercase text-danger fw-bold">
                        login
                    </a>
                </p>
            </form>
        </div>
    </main>
{% endblock %}
{% block script %}
    <script>
        let passwordShow = document.getElementById("password-toggle1")
        let passwordInput = document.getElementById("password1")


        passwordShow.addEventListener('click', (e) => {
            if (passwordInput.type === "password") {
                passwordInput.type = "text"
                passwordShow.classList.remove("bi-eye-slash-fill")
                passwordShow.classList.add("bi-eye-fill")
            } else {
                passwordInput.type = "password"
                passwordShow.classList.remove("bi-eye-fill")
                passwordShow.classList.add("bi-eye-slash-fill")
            }
        })


        let passwordShow2 = document.getElementById("password-toggle2")
        let passwordInput2 = document.getElementById("password2")


        passwordShow2.addEventListener('click', (e) => {
            if (passwordInput2.type === "password") {
                passwordInput2.type = "text"
                passwordShow2.classList.remove("bi-eye-slash-fill")
                passwordShow2.classList.add("bi-eye-fill")
            } else {
                passwordInput2.type = "password"
                passwordShow2.classList.remove("bi-eye-fill")
                passwordShow2.classList.add("bi-eye-slash-fill")
            }
        })
    </script>
{% endblock %}